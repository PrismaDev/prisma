var LoginView = Backbone.View.extend({
	el: 'body',
	layoutTemplate: '',
	loginTemplate: '',

	initialize: function() {
		this.layoutTemplate = _.template($('#layout-template').html());
		this.loginTemplate = _.template($('#login-template').html());
	},

	initJS: function() {
		$('.dropdown-toggle').dropdown();
	},
	
	render: function() {
		this.$el.html(this.layoutTemplate({str: loginStringsModel}));
		$('#content-div').html(this.loginTemplate({str: loginStringsModel}));
		
		this.initJS();
	}
});

var loginView = new LoginView();
var LoginStringsModel = Backbone.Model.extend({
	defaults: {
		'matriculaLabel': 'Matr√≠cula',
		'passwordLabel': 'Senha',
		'submitButtonLabel': 'Login'
	}
});

var loginStringsModel = new LoginStringsModel();
var LoginRouter = Backbone.Router.extend({
	routes: {
		'': 'login'
	}
});

var loginRouter = new LoginRouter();
loginRouter.on('route:login', function() {
	loginView.render();
});

//if (history.pushState) { 
//	console.log("pushState supported");
//	Backbone.history.start({pushState: true});
//}
//else {
//	console.log("pushState NOT supported");
	Backbone.history.start();
//}
